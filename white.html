<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <title>Modelado con Dinámica de Sistemas</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/white.css">
  <link rel="stylesheet" href="css/tangle.css">
  <link rel="stylesheet" href="js/TangleKit/TangleKit.css">

  <style>
    #plot-container {
      width: 100%;
      height: 400px;
    }
  </style>
</head>

<body>

  <div class="reveal">
    <div class="slides">
      <section>
        <h1>Modelado con Dinámica de Sistemas</h1>
        <p>Autor: Msc Ing. Ditmar David Castro Angulo</p>
      </section>
      <section>
        <img src="images/init.png">
      </section>
      <section>
        <h2>Contenido</h2>
        <ul>
          <li>¿Qué es la Dinámica de Sistemas?</li>
          <li>Arquetipos Sistémicos</li>
          <li>Símil Hidrodinámico</li>
          <li>Diagramas de Forrester</li>
          <li>Fases del Modelado</li>
          <li>Ejemplo clásico: Lotka-Volterra</li>
        </ul>
      </section>

      <section>
        <h1>¿Qué es la Dinámica de Sistemas?</h1>
      </section>

      <section>
        <p>
          dv/dt = g = 9.81 m/s²<br>
          dy/dt = v = 0 m/s<br>
        </p>
      </section>

      <section id="simulacion-caida">
        <h5>¿Qué es la Dinámica de Sistemas?</h5>
        <iframe id="iframeSimulacion" src="/examples/engines/model1.html" width="100%" height="600px"
          frameborder="0"></iframe>
      </section>

      <section>
        <h5>¿Qué es la Dinámica de Sistemas?</h5>
        <iframe id="iframeSimulacion2" src="/examples/engines/model2.html" width="100%" height="600px"
          frameborder="0"></iframe>
      </section>

      <section>
        <h1>Arquetipos Sistémicos</h1>
      </section>

      <section>
        <section>
          <div>
            <h2>Modelo de Crecimiento</h2>
            <p>\[ \frac{dp}{dt} = r \cdot p \]</p>
          </div>
        </section>
        <section>
          <h2>Modelo de Crecimiento</h2>
          <img src="/images/positive.png" />
        </section>

        <section>
          <h2>Solución analítica</h2>
          <p>Separando variables:</p>
          <p>\[ \frac{1}{p} \, dp = r \, dt \]</p>
        </section>

        <section>
          <h2>Integrando ambos lados</h2>
          <p>\[
            \int_{p(0)}^{p(t)} \frac{1}{p} \, dp = \int_{0}^{t} r \, dt
            \]</p>
        </section>

        <section>
          <h2>Resultado de la integración</h2>
          <p>\[
            \ln(p(t)) - \ln(p(0)) = r \cdot t
            \]</p>
        </section>

        <section>
          <h2>Aplicando propiedades logarítmicas</h2>
          <p>\[
            \ln\left(\frac{p(t)}{p(0)}\right) = r \cdot t
            \]</p>
        </section>

        <section>
          <h2>Solución general</h2>
          <p>\[
            p(t) = p(0) \cdot e^{rt}
            \]</p>
        </section>
        <section>
          <h5>¿Crecimiento Positivo?</h5>
          <p>\[
            p(t) = p(0) \cdot e^{rt}
            \]</p>
          <iframe id="iframeSimulacion2" src="/examples/engines/model3.html" width="100%" height="600px"
            frameborder="0"></iframe>
        </section>
      </section>
      <section>
        <section>
          <h2>Modelo de Crecimiento Negativo</h2>
          <p>\[ \frac{dx}{dt} = (x_d - x) \cdot k \]</p>
        </section>
        <section>
          <h2>Modelo de Crecimiento</h2>
          <img src="/images/negative.png" />
        </section>
        <section>
          <h2>Solución analítica</h2>
          <p>Separando variables:</p>
          <p>\[
            \frac{1}{x_d - x} \, dx = k \, dt
            \]</p>
        </section>

        <section>
          <h2>Integrando ambos lados</h2>
          <p>\[
            \int_{x(0)}^{x(t)} \frac{1}{x_d - x} \, dx = \int_{0}^{t} k \, dt
            \]</p>
        </section>

        <section>
          <h2>Cambio de variable en la integral</h2>
          <p>\[
            -\int_{x(0)}^{x(t)} \frac{1}{x - x_d} \, dx = \int_{0}^{t} k \, dt
            \]</p>
        </section>

        <section>
          <h2>Resultado de la integración</h2>
          <p>\[
            -\ln\left|x(t) - x_d\right| + \ln\left|x(0) - x_d\right| = k \cdot t
            \]</p>
        </section>

        <section>
          <h2>Aplicando propiedades logarítmicas</h2>
          <p>\[
            \ln\left( \frac{x(0) - x_d}{x(t) - x_d} \right) = k \cdot t
            \]</p>
        </section>

        <section>
          <h2>Despejando la solución</h2>
          <p>\[
            \frac{x(0) - x_d}{x(t) - x_d} = e^{kt}
            \]</p>
          <p>\[
            x(t) = x_d + (x(0) - x_d) \cdot e^{-kt}
            \]</p>
        </section>
        <section>
          <h5>Crecimiento Negativo</h5>
          <p>\[
            x(t) = x_d + (x(0) - x_d) \cdot e^{-kt}
            \]</p>
          <iframe id="iframeSimulacion2" src="/examples/engines/model4.html" width="100%" height="600px"
            frameborder="0"></iframe>
        </section>
      </section>
      <section>
        <section>
          <h1>Discretización del Modelo</h1>
          <p>Partimos del modelo continuo:</p>
          <p>\[
            \frac{dx}{dt} = k \cdot (x_d - x)
            \]</p>
        </section>

        <section>
          <h2>Diferencias finitas hacia atrás</h2>
          <p>Reemplazamos la derivada por una aproximación:</p>
          <p>\[
            \frac{x(t) - x(t - 1)}{\Delta t} = k \cdot (x_d - x(t - 1))
            \]</p>
        </section>

        <section>
          <h2>Despejando \( x(t) \)</h2>
          <p>\[
            x(t) = x(t - 1) + \Delta t \cdot k \cdot (x_d - x(t - 1))
            \]</p>
        </section>
      </section>
      <section>
        <h2>Modelo</h2>
        <iframe src="http://localhost:4321/" width="100%" height="600px" frameborder="0"></iframe>
      </section>
      <section>
        <section>
          <h1>El simil Hidrodinamico</h1>
          <p>El simil hidrodinamico es una herramienta que permite representar el comportamiento de un sistema dinámico
            a
            través de un modelo físico que simula el flujo de un fluido.</p>
        </section>
        <section>
          <h2>Simil</h2>
          <img src="images//simil.png" alt="Simil Hidrodinamico">
        </section>
      </section>
      <section>
        <section>
          <h1>Diagramas de Forrester</h1>
          <p>Los diagramas de Forrester son una herramienta gráfica utilizada para representar la estructura y el
            comportamiento de un sistema dinámico.</p>
        </section>
        <section>
          <h3>Niveles (Stocks)</h3>
          <table border="1" cellpadding="8">
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Representación Gráfica</th>
            </tr>
            <tr>
              <td>Niveles</td>
              <td>Representan la acumulación de recursos dentro del sistema, como población, dinero o inventario.</td>
              <td><img src="/images/stock.png" /></td>
            </tr>
          </table>
        </section>

        <section>
          <h3>Flujos (Flows)</h3>
          <table border="1" cellpadding="8">
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Representación Gráfica</th>
            </tr>
            <tr>
              <td>Flujos</td>
              <td>Representan el movimiento de recursos hacia o desde los niveles. Se muestran como flechas con una
                válvula.</td>
              <td><img src="/images/flow.png" /></td>
            </tr>
          </table>
        </section>

        <section>
          <h3>Fuentes y Sumideros</h3>
          <table border="1" cellpadding="8">
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Representación Gráfica</th>
            </tr>
            <tr>
              <td>Fuentes y Sumideros</td>
              <td>Entradas o salidas externas al sistema. No se modelan internamente pero influyen.</td>
              <td><strong>☁️</strong> (nube)</td>
            </tr>
          </table>
        </section>

        <section>
          <h3>Variables Auxiliares</h3>
          <table border="1" cellpadding="8">
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Representación Gráfica</th>
            </tr>
            <tr>
              <td>Variables Auxiliares</td>
              <td>Ayudan a definir relaciones y simplifican ecuaciones. Son intermedias.</td>
              <td><strong>○</strong> (círculo)</td>
            </tr>
          </table>
        </section>

        <section>
          <h3>Conectores de Influencia</h3>
          <table border="1" cellpadding="8">
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Representación Gráfica</th>
            </tr>
            <tr>
              <td>Conectores de Influencia</td>
              <td>Indican que una variable afecta a otra. Se muestran como flechas simples.</td>
              <td><img src="/images/causalarrow.png" /></td>
            </tr>
          </table>
        </section>
        <section>
          <h3>Retrasos</h3>
          <table border="1" cellpadding="8">
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Representación Gráfica</th>
            </tr>
            <tr>
              <td>Retrasos</td>
              <td>Ocurren cuando la información que influye en una decisión no está disponible de inmediato.</td>
              <td><img src="/images/delay.png" /></td>
            </tr>
          </table>
        </section>
        <section>
          <h3>Lazos de Retroalimentación</h3>
          <table border="1" cellpadding="8">
            <tr>
              <th>Nombre</th>
              <th>Descripción</th>
              <th>Representación Gráfica</th>
            </tr>
            <tr>
              <td>Lazos de Retroalimentación</td>
              <td>Ciclos de influencia. Pueden ser positivos (refuerzo) o negativos (balance).</td>
              <td><strong>↺ + / ↺ −</strong></td>
            </tr>
          </table>
        </section>

      </section>
      <section>
        <h2>
          Fases del modelado
        </h2>
        <img src="images/fases.png" alt="Fases del modelado">
      </section>
      <section>
        <section>
          <h1>Reserva natural en desequilibrio</h1>
          <p>
            En una reserva natural, la población de venados (presas) ha disminuido debido al aumento de los pumas
            (depredadores). La administración del parque está preocupada porque los venados están por debajo de un nivel
            seguro para la regeneración de la flora. Se plantea una política de control de la población de pumas
            mediante
            caza moderada solo si los venados bajan de cierto umbral.
          </p>
        </section>
        <section>
          <h2>Modelo de Lotka-Volterra</h2>
          <p>Modelo clásico de interacción entre depredadores y presas.</p>
          <p>\[ \frac{dx}{dt} = \alpha x - \beta xy \]</p>
          <p>\[ \frac{dy}{dt} = \delta xy - \gamma y \]</p>
        </section>
        <section>
          <h2>Parámetros del modelo Lotka-Volterra</h2>
          <table style="margin: auto; border-collapse: collapse; font-size: 1.2em;">
            <thead>
              <tr>
                <th style="border: 1px solid #ccc; padding: 0px;">Variable / Parámetro</th>
                <th style="border: 1px solid #ccc; padding: 0px;">Descripción</th>
                <th style="border: 1px solid #ccc; padding: 0px;">Valor</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="border: 1px solid #ccc; padding: 0px;">V<sub>0</sub></td>
                <td style="border: 1px solid #ccc; padding: 0px;">Población inicial de venados</td>
                <td style="border: 1px solid #ccc; padding: 0px;">200</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ccc; padding: 0px;">P<sub>0</sub></td>
                <td style="border: 1px solid #ccc; padding: 0px;">Población inicial de pumas</td>
                <td style="border: 1px solid #ccc; padding: 0px;">40</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ccc; padding: 0px;">a</td>
                <td style="border: 1px solid #ccc; padding: 0px;">Tasa de reproducción de venados</td>
                <td style="border: 1px solid #ccc; padding: 0px;">0.08</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ccc; padding: 0px;">b</td>
                <td style="border: 1px solid #ccc; padding: 0px;">Tasa de depredación (eficiencia de caza)</td>
                <td style="border: 1px solid #ccc; padding: 0px;">0.002</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ccc; padding: 0px;">c</td>
                <td style="border: 1px solid #ccc; padding: 0px;">Tasa de mortalidad natural de pumas</td>
                <td style="border: 1px solid #ccc; padding: 0px;">0.04</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ccc; padding: 0px;">d</td>
                <td style="border: 1px solid #ccc; padding: 0px;">Conversión de presas cazadas a nuevos pumas</td>
                <td style="border: 1px solid #ccc; padding: 0px;">0.0004</td>
              </tr>
            </tbody>
          </table>
        </section>
        <section>
          <h2>Diseño de una politica</h2>
          <p>Si V < V_umbral entonces Reducción de pumas adicional por caza=policy_intensity * P</p>
        </section>
        <section>
          <h2>¿Qué pasa si ponemos un límite al crecimiento?</h2>
          <p>
            \[ \frac{dP}{dt} = r P \left(1 - \frac{P}{K} \right) \]
          </p>
        </section>

        <!-- Diapositiva final: resumen y reflexión -->
        <section>
          <section>
            <h2>Resumen</h2>
            <ul>
              <li>Comprendimos los fundamentos de la Dinámica de Sistemas.</li>
              <li>Exploramos modelos de crecimiento positivo y negativo.</li>
              <li>Estudiamos la discretización de modelos continuos.</li>
              <li>Analizamos los Diagramas de Forrester y sus componentes.</li>
              <li>Simulamos el modelo de Lotka-Volterra aplicado a un ecosistema real.</li>
            </ul>
          </section>

        </section>
      </section>
      <section>
        <h2>Reflexión final</h2>
        <p>
          La Dinámica de Sistemas no solo nos permite modelar el comportamiento de sistemas complejos, sino que
          también
          promueve una visión integral y crítica para la toma de decisiones informadas y sostenibles.
        </p>
        <p>
          Como futuros ingenieros, es esencial desarrollar la capacidad de pensar en términos de sistemas,
          identificar la retroalimentación, los retrasos, y cómo las políticas afectan el comportamiento dinámico.
        </p>
      </section>
      <section>
        <img src="/images/bye.png" alt="Gracias por su atención">
    </div>
  </div>

  <!-- Reveal.js -->
  <script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.min.js"></script>
  <script>
    Reveal.initialize();
    Reveal.on('slidechanged', function (event) {
      const simulacion1 = document.getElementById('iframeSimulacion');
      const simulacion2 = document.getElementById('iframeSimulacion2');

      if (event.currentSlide.id === 'simulacion-caida') {
        simulacion1.contentWindow.postMessage("startSimulation", "*");
      }

      if (event.currentSlide === simulacion2?.parentNode) {
        simulacion2.contentWindow.postMessage("startSimulation", "*");
      }
    });
  </script>

</body>

</html>