<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
  <title>Crecimiento Exponencial - Dinámica de Sistemas</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/white.css">
  <link rel="stylesheet" href="css/tangle.css">
  <link rel="stylesheet" href="js/TangleKit/TangleKit.css">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <style>
    #plot-container {
      width: 100%;
      height: 400px;
    }
  </style>
</head>
<body>

<div class="reveal">
  <div class="slides">
    <section>
      <h2>Crecimiento Exponencial</h2>
      
    </section>
    <section>
      <h2>Crecimiento Exponencial</h2>
      <p>
        Modelo: <code>P(t) = P₀ · e<sup>rt</sup></code>
        
      </p>
      <div class="tangle-content">
        <p>
          Tasa de crecimiento <strong>r</strong> = 
          <span data-var="r" class="TKAdjustableNumber" data-min="0.01" data-max="0.2" data-step="0.01" ></span>
        </p>
        <p>
          Población inicial <strong>P₀</strong> = 
          <span data-var="p0" class="TKAdjustableNumber" data-min="10" data-max="500" data-step="10"></span>
        </p>
        <p>
          Tiempo <strong>t</strong> = 
          <span data-var="t" class="TKAdjustableNumber" data-min="0" data-max="20" data-step="1"></span>
        </p>
        <p>
          Resultado: <strong>P(t)</strong> = 
          <span data-var="pt" class="TKNumber" data-format="%.2f">0</span>
        </p>
        <div id="plot-container"></div>
      </div>
    </section>
    <section>
      <div>
        <h2>Modelo de crecimiento</h2>
      <p>Esta es la ecuación diferencial:</p>
      When \(a \ne 0\), there are two solutions to \(ax^2 + bx + c = 0\) and they are
$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$
      </div>
    </section>

  </div>
</div>

<!-- Reveal.js -->
<script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.min.js"></script>
<script>
  Reveal.initialize();
</script>

<!-- Tangle dependencies -->
<script type="text/javascript" src="js/Tangle.js"></script>

<script src="js/TangleKit/mootools.js"></script>
<script src="js/TangleKit/sprintf.js"></script>
<script src="js/TangleKit/TangleKit.js"></script>
<script src="js/TangleKit/BVTouchable.js"></script>

<script>
  function drawGraph(p0, r) {
    const time = [];
    const values = [];
    for (let t = 0; t <= 20; t++) {
      time.push(t);
      values.push(p0 * Math.exp(r * t));
    }

    Plotly.newPlot('plot-container', [{
      x: time,
      y: values,
      mode: 'lines',
      line: { width: 3 }
    }], {
      margin: { t: 30 },
      xaxis: { title: "Tiempo (t)" },
      yaxis: { title: "Población P(t)" }
    });
  }

  Reveal.on('slidechanged', function(event) {
    const content = event.currentSlide.querySelector('.tangle-content');
  
    if (content) {
      new Tangle(content, {
        initialize: function () {
          this.r = 0.05;
          this.p0 = 100;
          this.t = 5;
        },
        update: function () {
          this.pt = this.p0 * Math.exp(this.r * this.t);
          console.log('--- ', this.pt);
          drawGraph(this.p0, this.r);
        }
      });
    }
  });
</script>

</body>
</html>
